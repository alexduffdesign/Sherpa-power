{"version":3,"file":"chatbot-drawer-JtGdDBiQ.js","sources":["../frontend/entrypoints/chatbot-drawer.js"],"sourcesContent":["import { Drawer } from \"./theme.js\";\nimport MainChatbot from \"./chatbot-main.js\";\n\nconsole.log(\"Chatbot drawer script loaded\");\n\nclass ChatbotDrawer extends Drawer {\n  constructor() {\n    super();\n    this.mainChatbotElement = null;\n    this.mainChatbot = null;\n    this.initialized = false;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.mainChatbotElement = this.querySelector(\"main-chatbot\");\n    if (!this.mainChatbotElement) {\n      console.error(\"MainChatbotElement not found in ChatbotDrawer\");\n    } else {\n      this.mainChatbot = new MainChatbot(this.mainChatbotElement, {\n        voiceflowEndpoint: this.mainChatbotElement.getAttribute(\"api-endpoint\"),\n      });\n    }\n  }\n\n  async show() {\n    console.log(\"ChatbotDrawer show method called\");\n    await super.show();\n    if (this.mainChatbot) {\n      console.log(\"MainChatbot found, initializing chat\");\n      await this.mainChatbot.initializeNewChat();\n    } else {\n      console.error(\"MainChatbot not found when trying to show drawer\");\n    }\n  }\n}\n\ncustomElements.define(\"chatbot-drawer\", ChatbotDrawer);\n\nfunction initChatbotDrawer(drawerId) {\n  const drawerElement = document.getElementById(drawerId);\n  if (drawerElement) {\n    console.log(\"Initializing ChatbotDrawer\");\n    // This line ensures the element uses our custom ChatbotDrawer class\n    if (!(drawerElement instanceof ChatbotDrawer)) {\n      Object.setPrototypeOf(drawerElement, ChatbotDrawer.prototype);\n    }\n    drawerElement.connectedCallback();\n  } else {\n    console.error(\"Drawer element not found\");\n  }\n}\n\nwindow.initChatbotDrawer = initChatbotDrawer;\n\nif (window.chatbotDrawerId) {\n  initChatbotDrawer(window.chatbotDrawerId);\n}\n"],"names":["ChatbotDrawer","Drawer","MainChatbot","initChatbotDrawer","drawerId","drawerElement"],"mappings":"iOAGA,QAAQ,IAAI,8BAA8B,EAE1C,MAAMA,UAAsBC,CAAO,CACjC,aAAc,CACZ,QACA,KAAK,mBAAqB,KAC1B,KAAK,YAAc,KACnB,KAAK,YAAc,EACpB,CAED,mBAAoB,CAClB,MAAM,kBAAiB,EACvB,KAAK,mBAAqB,KAAK,cAAc,cAAc,EACtD,KAAK,mBAGR,KAAK,YAAc,IAAIC,EAAY,KAAK,mBAAoB,CAC1D,kBAAmB,KAAK,mBAAmB,aAAa,cAAc,CAC9E,CAAO,EAJD,QAAQ,MAAM,+CAA+C,CAMhE,CAED,MAAM,MAAO,CACX,QAAQ,IAAI,kCAAkC,EAC9C,MAAM,MAAM,OACR,KAAK,aACP,QAAQ,IAAI,sCAAsC,EAClD,MAAM,KAAK,YAAY,qBAEvB,QAAQ,MAAM,kDAAkD,CAEnE,CACH,CAEA,eAAe,OAAO,iBAAkBF,CAAa,EAErD,SAASG,EAAkBC,EAAU,CACnC,MAAMC,EAAgB,SAAS,eAAeD,CAAQ,EAClDC,GACF,QAAQ,IAAI,4BAA4B,EAElCA,aAAyBL,GAC7B,OAAO,eAAeK,EAAeL,EAAc,SAAS,EAE9DK,EAAc,kBAAiB,GAE/B,QAAQ,MAAM,0BAA0B,CAE5C,CAEA,OAAO,kBAAoBF,EAEvB,OAAO,iBACTA,EAAkB,OAAO,eAAe"}