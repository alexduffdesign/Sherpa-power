{"version":3,"file":"chatbot-ui.D8QKNx86.js","sources":["../frontend/entrypoints/chatbot-ui.js"],"sourcesContent":["export class UIManager {\n    constructor() {\n        this.messageContainer = null;\n        this.typingIndicator = null;\n        this.drawerBody = null;\n    }\n\n    setDOMElements(messageContainer, typingIndicator, drawerBody) {\n        this.messageContainer = messageContainer;\n        this.typingIndicator = typingIndicator;\n        this.drawerBody = drawerBody;\n    }\n\n    addMessage(role, message) {\n        if (!this.messageContainer) return;\n\n        const messageElement = document.createElement(\"div\");\n        messageElement.className = `message ${role}-message`;\n        messageElement.textContent = message;\n        this.messageContainer.appendChild(messageElement);\n        this.scrollToBottom();\n    }\n\n    addCarousel(payload) {\n        if (!this.messageContainer || !payload?.data) return;\n\n        const carouselContainer = document.createElement(\"div\");\n        carouselContainer.className = \"carousel-container\";\n        \n        payload.data.forEach((item, index) => {\n            const card = document.createElement(\"div\");\n            card.className = \"carousel-card\";\n            \n            if (item.image) {\n                const img = document.createElement(\"img\");\n                img.src = item.image;\n                img.alt = item.title || `Carousel item ${index + 1}`;\n                card.appendChild(img);\n            }\n\n            if (item.title) {\n                const title = document.createElement(\"h3\");\n                title.textContent = item.title;\n                card.appendChild(title);\n            }\n\n            if (item.description) {\n                const desc = document.createElement(\"p\");\n                desc.textContent = item.description;\n                card.appendChild(desc);\n            }\n\n            carouselContainer.appendChild(card);\n        });\n\n        this.messageContainer.appendChild(carouselContainer);\n        this.scrollToBottom();\n    }\n\n    addVisualImage(payload) {\n        if (!this.messageContainer || !payload?.image) return;\n\n        const imageContainer = document.createElement(\"div\");\n        imageContainer.className = \"visual-image-container\";\n\n        const img = document.createElement(\"img\");\n        img.src = payload.image;\n        img.alt = payload.alt || \"Visual response\";\n        img.className = \"visual-image\";\n\n        imageContainer.appendChild(img);\n        this.messageContainer.appendChild(imageContainer);\n        this.scrollToBottom();\n    }\n\n    addButtons(buttons) {\n        if (!this.messageContainer || !buttons?.length) return;\n\n        const buttonsContainer = document.createElement(\"div\");\n        buttonsContainer.className = \"buttons-container\";\n\n        buttons.forEach(button => {\n            const buttonElement = document.createElement(\"button\");\n            buttonElement.className = \"chat-button\";\n            buttonElement.textContent = button.name;\n            buttonElement.dataset.buttonData = JSON.stringify(button);\n            buttonsContainer.appendChild(buttonElement);\n        });\n\n        this.messageContainer.appendChild(buttonsContainer);\n        this.scrollToBottom();\n    }\n\n    removeButtons() {\n        if (!this.messageContainer) return;\n        \n        const buttonsContainers = this.messageContainer.querySelectorAll(\".buttons-container\");\n        buttonsContainers.forEach(container => container.remove());\n    }\n\n    showTypingIndicator(text = \"Sherpa Guide Is Typing...\") {\n        if (this.typingIndicator) {\n            this.typingIndicator.textContent = text;\n            this.typingIndicator.style.display = \"block\";\n            this.scrollToBottom();\n        }\n    }\n\n    hideTypingIndicator() {\n        if (this.typingIndicator) {\n            this.typingIndicator.style.display = \"none\";\n        }\n    }\n\n    scrollToBottom() {\n        if (this.drawerBody) {\n            this.drawerBody.scrollTop = this.drawerBody.scrollHeight;\n        }\n    }\n}\n"],"names":["UIManager","messageContainer","typingIndicator","drawerBody","role","message","messageElement","payload","carouselContainer","item","index","card","img","title","desc","imageContainer","buttons","buttonsContainer","button","buttonElement","container","text"],"mappings":"AAAO,MAAMA,CAAU,CACnB,aAAc,CACV,KAAK,iBAAmB,KACxB,KAAK,gBAAkB,KACvB,KAAK,WAAa,IACrB,CAED,eAAeC,EAAkBC,EAAiBC,EAAY,CAC1D,KAAK,iBAAmBF,EACxB,KAAK,gBAAkBC,EACvB,KAAK,WAAaC,CACrB,CAED,WAAWC,EAAMC,EAAS,CACtB,GAAI,CAAC,KAAK,iBAAkB,OAE5B,MAAMC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAY,WAAWF,CAAI,WAC1CE,EAAe,YAAcD,EAC7B,KAAK,iBAAiB,YAAYC,CAAc,EAChD,KAAK,eAAc,CACtB,CAED,YAAYC,EAAS,CACjB,GAAI,CAAC,KAAK,kBAAoB,EAACA,GAAA,MAAAA,EAAS,MAAM,OAE9C,MAAMC,EAAoB,SAAS,cAAc,KAAK,EACtDA,EAAkB,UAAY,qBAE9BD,EAAQ,KAAK,QAAQ,CAACE,EAAMC,IAAU,CAClC,MAAMC,EAAO,SAAS,cAAc,KAAK,EAGzC,GAFAA,EAAK,UAAY,gBAEbF,EAAK,MAAO,CACZ,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAK,MACfG,EAAI,IAAMH,EAAK,OAAS,iBAAiBC,EAAQ,CAAC,GAClDC,EAAK,YAAYC,CAAG,CACvB,CAED,GAAIH,EAAK,MAAO,CACZ,MAAMI,EAAQ,SAAS,cAAc,IAAI,EACzCA,EAAM,YAAcJ,EAAK,MACzBE,EAAK,YAAYE,CAAK,CACzB,CAED,GAAIJ,EAAK,YAAa,CAClB,MAAMK,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,YAAcL,EAAK,YACxBE,EAAK,YAAYG,CAAI,CACxB,CAEDN,EAAkB,YAAYG,CAAI,CAC9C,CAAS,EAED,KAAK,iBAAiB,YAAYH,CAAiB,EACnD,KAAK,eAAc,CACtB,CAED,eAAeD,EAAS,CACpB,GAAI,CAAC,KAAK,kBAAoB,EAACA,GAAA,MAAAA,EAAS,OAAO,OAE/C,MAAMQ,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAY,yBAE3B,MAAMH,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAML,EAAQ,MAClBK,EAAI,IAAML,EAAQ,KAAO,kBACzBK,EAAI,UAAY,eAEhBG,EAAe,YAAYH,CAAG,EAC9B,KAAK,iBAAiB,YAAYG,CAAc,EAChD,KAAK,eAAc,CACtB,CAED,WAAWC,EAAS,CAChB,GAAI,CAAC,KAAK,kBAAoB,EAACA,GAAA,MAAAA,EAAS,QAAQ,OAEhD,MAAMC,EAAmB,SAAS,cAAc,KAAK,EACrDA,EAAiB,UAAY,oBAE7BD,EAAQ,QAAQE,GAAU,CACtB,MAAMC,EAAgB,SAAS,cAAc,QAAQ,EACrDA,EAAc,UAAY,cAC1BA,EAAc,YAAcD,EAAO,KACnCC,EAAc,QAAQ,WAAa,KAAK,UAAUD,CAAM,EACxDD,EAAiB,YAAYE,CAAa,CACtD,CAAS,EAED,KAAK,iBAAiB,YAAYF,CAAgB,EAClD,KAAK,eAAc,CACtB,CAED,eAAgB,CACZ,GAAI,CAAC,KAAK,iBAAkB,OAEF,KAAK,iBAAiB,iBAAiB,oBAAoB,EACnE,QAAQG,GAAaA,EAAU,OAAQ,CAAA,CAC5D,CAED,oBAAoBC,EAAO,4BAA6B,CAChD,KAAK,kBACL,KAAK,gBAAgB,YAAcA,EACnC,KAAK,gBAAgB,MAAM,QAAU,QACrC,KAAK,eAAc,EAE1B,CAED,qBAAsB,CACd,KAAK,kBACL,KAAK,gBAAgB,MAAM,QAAU,OAE5C,CAED,gBAAiB,CACT,KAAK,aACL,KAAK,WAAW,UAAY,KAAK,WAAW,aAEnD,CACL"}