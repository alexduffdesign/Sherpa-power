import{D as s}from"./theme-Bz2ETus0.js";import{M as r}from"./chatbot-main-C2tHqQyB.js";import"//www.sherpapower.co.uk/cdn/shop/t/7/assets/vendor.min.js?v=52426788336887041471721044204";import"./chatbot-core-file-D_dkLCnc.js";console.log("Chatbot drawer script loaded");function e(i){class o extends HTMLElement{constructor(){return super(),o.instance||(o.instance=this,this.mainChatbot=null),o.instance}connectedCallback(){if(!this.mainChatbot){console.log("MainChatbotElement connected");const a={voiceflowEndpoint:"https://chatbottings--development.gadget.app/voiceflow"};this.mainChatbot=new r(this,a),this.loadPreviousConversation()}}loadPreviousConversation(){this.mainChatbot&&this.mainChatbot.loadConversationFromStorage()}async initializeNewChat(){this.mainChatbot&&await this.mainChatbot.initializeNewChat()}}class n extends s{constructor(){super(),this.mainChatbot=null,this.initialized=!1}connectedCallback(){super.connectedCallback(),this.mainChatbot=this.querySelector("main-chatbot"),this.mainChatbot||console.error("MainChatbot not found in ChatbotDrawer")}async show(){super.show(),this.mainChatbot&&!this.initialized&&(await this.mainChatbot.mainChatbot.initializeNewChat(),this.initialized=!0)}}customElements.define("main-chatbot",o),customElements.define("chatbot-drawer",n),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById(i),a=document.querySelector(`button[aria-controls="${i}"]`);t&&a?a.addEventListener("click",async()=>{await t.show()}):console.error("Chatbot drawer or trigger not found")}),document.addEventListener("dialog:after-show",t=>{t.target.id===i&&console.log("Chatbot drawer opened")}),document.addEventListener("dialog:after-hide",t=>{t.target.id===i&&console.log("Chatbot drawer closed")})}window.initChatbotDrawer=e;window.chatbotDrawerId&&e(window.chatbotDrawerId);
//# sourceMappingURL=chatbot-drawer-BEZky4I_.js.map
