import{D as r}from"./theme-Bz2ETus0.js";import{M as s}from"./chatbot-main-DlAUEnb-.js";import"//www.sherpapower.co.uk/cdn/shop/t/7/assets/vendor.min.js?v=52426788336887041471721044204";import"./chatbot-core-file-D_dkLCnc.js";console.log("Chatbot drawer script loaded");function n(o){class e extends HTMLElement{constructor(){return super(),e.instance||(e.instance=this,this.mainChatbot=null),e.instance}connectedCallback(){if(!this.mainChatbot){console.log("MainChatbotElement connected");const i={voiceflowEndpoint:"https://chatbottings--development.gadget.app/voiceflow"};this.mainChatbot=new s(this,i)}}}class a extends r{constructor(){super(),this.mainChatbotElement=null,this.initialized=!1}connectedCallback(){super.connectedCallback(),this.mainChatbotElement=this.querySelector("main-chatbot"),this.mainChatbotElement?console.log("MainChatbotElement found in ChatbotDrawer:",this.mainChatbotElement):console.error("MainChatbot not found in ChatbotDrawer"),this.addEventListener("dialog:after-show",this.onAfterShow.bind(this))}onAfterShow(){console.log("dialog:after-show event received"),this.mainChatbotElement&&!this.initialized?(console.log("Initializing Chatbot on drawer open"),this.mainChatbotElement.mainChatbot.initializeChat(),this.initialized=!0):this.initialized?console.log("Chatbot already initialized"):console.error("mainChatbotElement or mainChatbot is missing")}onAfterHide(){console.log("dialog:after-hide event received")}}window.customElements.get("main-chatbot")||window.customElements.define("main-chatbot",e),window.customElements.get("chatbot-drawer")||window.customElements.define("chatbot-drawer",a),document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById(o),i=document.querySelector(`button[aria-controls="${o}"]`);t&&i?i.addEventListener("click",()=>{t.show()}):console.error("Chatbot drawer or trigger not found")}),document.addEventListener("dialog:after-show",t=>{t.target.id===o&&console.log("Chatbot drawer opened")}),document.addEventListener("dialog:after-hide",t=>{t.target.id===o&&console.log("Chatbot drawer closed")})}window.initChatbotDrawer=n;window.chatbotDrawerId&&n(window.chatbotDrawerId);
//# sourceMappingURL=chatbot-drawer-BX8kGnhB.js.map
