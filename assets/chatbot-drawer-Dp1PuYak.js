import{M as c}from"./chatbot-main-CQbzo8Z8.js";import"./chatbot-core-file-D_dkLCnc.js";console.log("Chatbot drawer script loaded");function a(n){class i extends HTMLElement{constructor(){super(),this.mainChatbot=null,console.log("MainChatbotElement constructor called")}connectedCallback(){if(console.log("MainChatbotElement connectedCallback called"),!this.mainChatbot){console.log("Creating new MainChatbot instance");const e={voiceflowEndpoint:"https://chatbottings--development.gadget.app/voiceflow"};this.mainChatbot=new c(this,e),console.log("MainChatbot instance created:",this.mainChatbot)}}async initializeNewChat(){console.log("MainChatbotElement initializeNewChat called"),this.mainChatbot?await this.mainChatbot.initializeNewChat():console.error("MainChatbot not initialized when trying to initialize new chat")}}customElements.define("main-chatbot",i);function l(){const t=document.getElementById(n),e=t.querySelector("main-chatbot");if(!t||!e){console.error("Drawer or MainChatbotElement not found");return}t.addEventListener("dialog:after-show",async()=>{console.log("Chatbot drawer opened");const o=localStorage.getItem("chatHasLaunched")==="true";console.log("hasLaunched:",o),o?console.log("Chat has been launched before"):(console.log("Initializing new chat for the first time"),await e.initializeNewChat(),localStorage.setItem("chatHasLaunched","true"),console.log("Chat initialized and localStorage updated"))}),console.log("Chatbot drawer setup complete")}document.addEventListener("DOMContentLoaded",l)}window.initChatbotDrawer=a;window.chatbotDrawerId?(console.log("Initializing chatbot drawer with ID:",window.chatbotDrawerId),a(window.chatbotDrawerId)):console.error("chatbotDrawerId not found on window object");
//# sourceMappingURL=chatbot-drawer-Dp1PuYak.js.map
