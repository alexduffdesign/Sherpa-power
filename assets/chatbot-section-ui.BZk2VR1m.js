import{C as r}from"./base-chatbot-ui.BzGndWVX.js";class n extends r{constructor(e){super(e),this.productDetails=e.productDetails,this.setupSectionChatbotUI()}setupSectionChatbotUI(){this.deviceAnswerGrid=this.container.querySelector(".device-answer-grid"),this.setupProductContext()}setupProductContext(){if(!this.productDetails)return;const e=document.createElement("div");e.className="product-context",e.innerHTML=`
      <div class="product-title">${this.productDetails.title}</div>
      ${this.productDetails.capacity?`<div class="product-capacity">Capacity: ${this.productDetails.capacity}</div>`:""}
    `,this.container.insertBefore(e,this.messageContainer)}updateDeviceAnswers(e){if(!this.deviceAnswerGrid){console.warn("Device answer grid not found");return}if(this.deviceAnswerGrid.innerHTML="",e.deviceName){const t=document.createElement("div");t.className="device-name",t.textContent=e.deviceName,this.deviceAnswerGrid.appendChild(t)}if(Array.isArray(e.results)){const t=document.createElement("div");t.className="results-container",e.results.forEach(i=>{const s=document.createElement("div");s.className="result-item",s.innerHTML=`
          <div class="result-value">${i.value}</div>
          <div class="result-label">${i.label}</div>
        `,t.appendChild(s)}),this.deviceAnswerGrid.appendChild(t)}if(Array.isArray(e.recommendations)){const t=document.createElement("div");t.className="recommendations-container",e.recommendations.forEach(i=>{const s=document.createElement("div");s.className="recommendation-item",s.textContent=i,t.appendChild(s)}),this.deviceAnswerGrid.appendChild(t)}}addMessage(e,t,i=null){e==="assistant"&&this.productDetails.title&&(t=this.addProductContext(t)),super.addMessage(e,t,i)}addProductContext(e){return e.replace("{product_name}",this.productDetails.title)}displayError(e){const t=document.createElement("div");t.classList.add("error-message","section-error"),t.textContent=e,this.messageContainer.appendChild(t),this.scrollToBottom()}updateProductDetails(e){this.productDetails={...this.productDetails,...e},this.container.querySelector(".product-context")&&this.setupProductContext()}}export{n as S};
//# sourceMappingURL=chatbot-section-ui.BZk2VR1m.js.map
