import{M as s,C as i,e}from"./chatbot.DfUcQSBi.js";import{g as n}from"./user-id-generator.DhYYxFTy.js";import"./vendor.DqvJXvYX.js";class d{constructor(){this.userID=n("mainChatbot"),this.endpoint="https://chatbottings--development.gadget.app/voiceflowAPI/voiceflow-streaming",this.ui=new s(document.getElementById("main-chatbot-ui")),this.core=new i({userID:this.userID,endpoint:this.endpoint,chatbotType:"main"}),this.setupEventListeners()}setupEventListeners(){document.addEventListener("chatbotLaunch",()=>{console.log("chatbotLaunch event received"),this.core.sendLaunch()}),this.ui.onUserMessage(t=>{this.core.sendMessage(t)}),e.on("mainChatbot:choicePresented",({buttons:t})=>{console.log("Received choices:",t),this.ui.addButtons(t)}),e.on("mainChatbot:messageReceived",({content:t})=>{this.ui.addMessage("assistant",t)}),e.on("mainChatbot:carouselPresented",({carouselItems:t})=>{this.ui.addCarousel(t)}),e.on("carouselButtonClicked",async t=>{try{await this.core.sendAction({action:t,config:{}})}catch(o){console.error("Error handling carousel button click:",o)}}),e.on("mainChatbot:typing",({isTyping:t})=>{t?this.ui.showTypingIndicator():this.ui.hideTypingIndicator()}),e.on("mainChatbot:error",({message:t})=>{this.ui.displayError(t)})}launch(){this.isLaunched||(console.log("Launching chatbot"),this.core.sendLaunch(),this.isLaunched=!0)}destroy(){this.core.destroy()}}export{d as M};
//# sourceMappingURL=chatbot-main.DsSsZaql.js.map
